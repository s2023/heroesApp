import{A as Le,B as Te,C as Q,D as ke,E as Fe,F as He,G as Be,H as De,I as je,J as Ae,a as U,b,c as ve,d as R,e as q,f as w,g as ge,h as Ce,i as xe,j as Se,k as Me,l as G,m as be,n as Ie,o as P,p as z,q as L,r as J,s as _e,t as K,u as T,v as ye,w as Ee,x as we,y as Pe,z as k}from"./chunk-URNFTJDY.js";import{Aa as f,Ba as v,Ca as r,Da as i,E as le,Ea as c,Ga as D,K as se,Ka as C,L as j,Ma as M,N as ce,P as u,Pa as E,Q as A,Qa as n,Ra as g,S as pe,Sa as d,U as _,V as y,Va as ee,Wa as O,Xa as $,da as V,i as oe,ia as m,ja as S,mb as de,qb as ue,ra as p,rb as he,sb as fe,t as ae,tb as N,vb as te,x as me,xa as H,ya as B,za as h}from"./chunk-L42ZQG7L.js";function Xe(t,e){if(t&1){let l=D();r(0,"mat-list-item",9),C("click",function(){_(l),M();let o=E(2);return y(o.toggle())}),r(1,"mat-icon",10),n(2),i(),n(3),i()}if(t&2){let l=e.$implicit;p("routerLink",l.url),m(2),g(l.icon),m(1),d(" ",l.label," ")}}var $e=(()=>{let e=class e{constructor(){this.sidebarItems=[{label:"List",icon:"label",url:"./list"},{label:"Add",icon:"add",url:"./new-hero"},{label:"Search",icon:"search",url:"./search"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["heroes-layout-page"]],decls:23,vars:0,consts:[["fullscreen",""],["mode","push",1,"side-nav"],["sidenav",""],[1,"spacer"],["mat-icon-button","",3,"click"],["color","primary"],["mat-button","",2,"background-color","#6b7acf"],["routerLink","/auth/login"],[1,"container","p-2"],[3,"routerLink","click"],["matListItemIcon",""],[3,"routerLink"]],template:function(o,s){if(o&1){let I=D();r(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar")(4,"span"),n(5,"Men\xFA"),i(),c(6,"span",3),r(7,"button",4),C("click",function(){_(I);let Z=E(2);return y(Z.toggle())}),r(8,"mat-icon"),n(9,"menu"),i()()(),r(10,"mat-nav-list"),f(11,Xe,4,3,"mat-list-item",11,h),i()(),r(13,"mat-toolbar",5)(14,"button",4),C("click",function(){_(I);let Z=E(2);return y(Z.toggle())}),r(15,"mat-icon"),n(16,"menu"),i()(),c(17,"span",3),r(18,"button",6)(19,"a",7),n(20,"Logout"),i()()(),r(21,"div",8),c(22,"router-outlet"),i()()}o&2&&(m(11),v(s.sidebarItems))},dependencies:[he,N,b,ve,w,ke,Q,Le,Be,De,je],styles:[".side-nav[_ngcontent-%COMP%]{width:30%}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]});let t=e;return t})();function tt(t,e){if(t&1&&(r(0,"mat-option",10),n(1),i()),t&2){let l=e.$implicit;p("value",l.id),m(1),d(" ",l.desc," ")}}var re=(()=>{let e=class e{constructor(){this.publishers=[{id:"DC Comics",desc:"DC - Comics"},{id:"Marvel Comics",desc:"Marvel - Comics"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["heroes-new-page"]],decls:43,vars:0,consts:[[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-6"],["matInput","","type","text","required",""],[1,"col-12"],["required",""],[1,"flex","justify-content-between"],["mat-flat-button","","color","warn"],["mat-flat-button","","color","primary"],["mat-card-image","","src","","alt","hero image","title","hero name"],[3,"value"]],template:function(o,s){o&1&&(r(0,"h1"),n(1," Edit / Add hero "),c(2,"br"),r(3,"small"),n(4,"Batman"),i()(),c(5,"mat-divider",0),r(6,"div",1)(7,"div",2)(8,"mat-card")(9,"mat-card-content")(10,"div",1)(11,"mat-form-field",2)(12,"mat-label"),n(13,"Super h\xE9roe"),i(),c(14,"input",3),i(),r(15,"mat-form-field",2)(16,"mat-label"),n(17,"Alter ego"),i(),c(18,"input",3),i(),r(19,"mat-form-field",4)(20,"mat-label"),n(21,"Primera aparici\xF3n"),i(),c(22,"input",3),i(),r(23,"mat-form-field",4)(24,"mat-label"),n(25,"Personajes"),i(),c(26,"input",3),i(),r(27,"mat-form-field",4)(28,"mat-label"),n(29,"Creador"),i(),r(30,"mat-select",5),f(31,tt,2,2,"mat-option",10,h),i()()(),r(33,"div",6)(34,"button",7),n(35," Borrar "),i(),r(36,"button",8)(37,"mat-icon"),n(38,"save"),i(),n(39," Guardar "),i()()()()(),r(40,"div",2)(41,"mat-card"),c(42,"img",9),i()()()),o&2&&(m(31),v(s.publishers))},dependencies:[U,b,P,L,T,q,R,w,G,k,He],encapsulation:2});let t=e;return t})();var Re={baseUrl:"https://s2023.github.io/heroesApp"};var F=(()=>{let e=class e{constructor(a){this.http=a,this.baseUrl=Re.baseUrl}getHeroes(){return this.http.get(`${this.baseUrl}/heroes`)}getHeroById(a){return this.http.get(`${this.baseUrl}/heroes/${a}`).pipe(ae(o=>oe(void 0)))}getSuggestions(a){return this.http.get(`${this.baseUrl}/heroes?q=${a}&_limit=6`)}};e.\u0275fac=function(o){return new(o||e)(ce(de))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var W=(()=>{let e=class e{transform(a){return!a.id&&!a.alt_img?"assets/no-image.png":a.alt_img?a.alt_img:`assets/heroes/${a.id}.jpg`}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=pe({name:"heroImage",type:e,pure:!0});let t=e;return t})();function it(t,e){if(t&1&&(r(0,"mat-chip"),n(1),i()),t&2){let l=e.$implicit;m(1),d(" ",l," ")}}var rt=t=>["/heroes/edit",t],nt=t=>["/heroes",t],X=(()=>{let e=class e{ngOnInit(){if(!this.hero)throw Error("Hero property is required")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},decls:30,vars:15,consts:[["mat-card-image","",3,"src","alt","title"],[1,"mt-2"],["mat-button","","mat-raised","","color","primary",3,"routerLink"],[1,"spacer"],["mat-button","","mat-raised","",3,"routerLink"]],template:function(o,s){o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3),i(),r(4,"mat-card-subtitle"),n(5),i()(),c(6,"img",0),O(7,"heroImage"),r(8,"mat-card-content",1)(9,"h4"),n(10),i(),r(11,"p")(12,"strong"),n(13,"First appearance"),i(),n(14),c(15,"br"),r(16,"mat-chip-listbox"),f(17,it,2,1,"mat-chip",null,h),i()()(),c(19,"mat-divider"),r(20,"mat-card-actions")(21,"button",2)(22,"mat-icon"),n(23,"edit"),i(),n(24," Edit "),i(),c(25,"span",3),r(26,"button",4)(27,"mat-icon"),n(28,"more_horiz"),i(),n(29," More info "),i()()()),o&2&&(m(3),g(s.hero.superhero),m(2),g(s.hero.alter_ego),m(1),p("src",$(7,9,s.hero),V)("alt",s.hero.superhero)("title",s.hero.superhero),m(4),g(s.hero.publisher),m(4),d(" ",s.hero.first_appearance," "),m(3),v(s.hero.characters.split(",").slice(0,3)),m(4),p("routerLink",ee(11,rt,s.hero.id)),m(5),p("routerLink",ee(13,nt,s.hero.id)))},dependencies:[N,b,P,_e,L,K,T,J,z,ye,Ee,w,k,W],encapsulation:2});let t=e;return t})();function ot(t,e){if(t&1&&(r(0,"mat-option",6),n(1),i()),t&2){let l=e.$implicit;p("value",l),m(1),d(" ",l.superhero," ")}}function at(t,e){if(t&1&&(r(0,"mat-option",4),n(1),i()),t&2){let l=M();m(1),d(" No se encontr\xF3 nada con el t\xE9rmino ",l.searchInput.value," ")}}function mt(t,e){if(t&1&&(r(0,"div",7),c(1,"heroes-hero-card",8),i()),t&2){let l=M();m(1),p("hero",l.selectedHero)}}var ze=(()=>{let e=class e{constructor(a){this.heroesService=a,this.searchInput=new xe(""),this.heroes=[]}searchHero(){let a=this.searchInput.value||"";this.heroesService.getSuggestions(a).subscribe(o=>this.heroes=o)}onSelectedOption(a){if(!a.option.value){this.selectedHero=void 0;return}let o=a.option.value;this.searchInput.setValue(o.superhero),this.selectedHero=o}};e.\u0275fac=function(o){return new(o||e)(S(F))},e.\u0275cmp=u({type:e,selectors:[["heroes-search-page"]],decls:13,vars:4,consts:[[1,"flex","flex-column","p-2"],["type","text","title","Search Heroes","matInput","",3,"formControl","matAutocomplete","input"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],["value",""],["class","col-12 sm:col-4 md:col-3 xl:col-2"],[3,"value"],[1,"col-12","sm:col-4","md:col-3","xl:col-2"],[3,"hero"]],template:function(o,s){if(o&1&&(r(0,"div",0)(1,"h3"),n(2,"Search"),i(),r(3,"mat-form-field")(4,"mat-label"),n(5,"Search Heroes"),i(),r(6,"input",1),C("input",function(){return s.searchHero()}),i(),r(7,"mat-autocomplete",2,3),C("optionSelected",function(Y){return s.onSelectedOption(Y)}),f(9,ot,2,2,"mat-option",6,h),H(11,at,2,1,"mat-option",4),i()(),H(12,mt,2,1,"div",5),i()),o&2){let I=E(8);m(6),p("formControl",s.searchInput)("matAutocomplete",I),m(3),v(s.heroes),m(2),B(11,s.heroes.length===0&&s.searchInput.value&&s.searchInput.value.length>0?11:-1),m(1),B(12,s.selectedHero?12:-1)}},dependencies:[be,U,Ie,q,R,G,ge,Ce,Se,X],encapsulation:2});let t=e;return t})();function lt(t,e){if(t&1&&(r(0,"div",1),c(1,"heroes-hero-card",2),i()),t&2){let l=e.$implicit;m(1),p("hero",l)}}var Je=(()=>{let e=class e{constructor(a){this.heroesService=a,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(a=>this.heroes=a)}};e.\u0275fac=function(o){return new(o||e)(S(F))},e.\u0275cmp=u({type:e,selectors:[["heroes-list-page"]],decls:6,vars:0,consts:[[1,"grid","bm-8","pt-2"],[1,"col-12","sm:col-4","md:col-3","xl:col-2"],[3,"hero"],["class","col-12 sm:col-4 md:col-3 xl:col-2"]],template:function(o,s){o&1&&(r(0,"h1"),n(1,"Heroes List"),i(),c(2,"mat-divider"),r(3,"div",0),f(4,lt,2,1,"div",3,h),i()),o&2&&(m(4),v(s.heroes))},dependencies:[k,X],encapsulation:2});let t=e;return t})();function st(t,e){if(t&1){let l=D();r(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),n(4),i(),r(5,"mat-card-subtitle"),n(6),i()(),c(7,"img",3),O(8,"heroImage"),i(),r(9,"mat-card",2)(10,"mat-card-header")(11,"mat-card-title"),n(12,"Hero Information"),i(),r(13,"mat-card-subtitle"),n(14),i()(),r(15,"mat-card-content")(16,"mat-list")(17,"mat-list-item")(18,"em"),n(19,"- First appearance: "),i(),n(20),i(),r(21,"mat-list-item")(22,"div",4)(23,"em"),n(24,"- Characters: "),i(),n(25),i()(),r(26,"mat-list-item")(27,"em"),n(28,"- Publisher: "),i(),n(29),i(),r(30,"mat-list-item")(31,"em"),n(32,"- Alter ego: "),i(),n(33),i()(),r(34,"button",5),C("click",function(){_(l);let o=M();return y(o.goBack())}),n(35," Go back "),i()()()()}if(t&2){let l=M();m(4),g(l.hero.superhero),m(2),g(l.hero.alter_ego),m(1),p("src",$(8,10,l.hero),V)("alt",l.hero.superhero)("title",l.hero.superhero),m(7),g(l.hero.superhero),m(6),d("",l.hero.first_appearance,"."),m(5),d("",l.hero.characters,"."),m(4),d("",l.hero.publisher,"."),m(4),d("",l.hero.alter_ego,".")}}function ct(t,e){t&1&&(r(0,"mat-grid-list",6)(1,"mat-grid-tile"),c(2,"mat-spinner"),i()())}var Ke=(()=>{let e=class e{constructor(a,o,s){this.heroesService=a,this.activatedRoute=o,this.router=s}ngOnInit(){this.activatedRoute.params.pipe(me(2e3),le(({id:a})=>this.heroesService.getHeroById(a))).subscribe(a=>{if(!a)return this.router.navigate(["/heroes/list"]);this.hero=a})}goBack(){this.router.navigateByUrl("heroes/list")}};e.\u0275fac=function(o){return new(o||e)(S(F),S(ue),S(fe))},e.\u0275cmp=u({type:e,selectors:[["heroes-hero-page"]],decls:2,vars:1,consts:[["class","grid p-2"],[1,"grid","p-2"],[1,"col-12","sm:col-6"],["mat-card-image","",3,"src","alt","title"],[1,"hero-char"],["mat-button","","color","warn",3,"click"],["cols","1"]],template:function(o,s){o&1&&H(0,st,36,12,"div",0)(1,ct,3,0),o&2&&B(0,s.hero?0:1)},dependencies:[b,P,L,K,T,J,z,Pe,we,Te,Q,Fe,W],styles:[".hero-char[_ngcontent-%COMP%]{white-space:pre-line}"]});let t=e;return t})();var pt=[{path:"",component:$e,children:[{path:"new-hero",component:re},{path:"search",component:ze},{path:"edit/:id",component:re},{path:"list",component:Je},{path:":id",component:Ke},{path:"**",redirectTo:"list"}]}],Qe=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=A({type:e}),e.\u0275inj=j({imports:[te.forChild(pt),te]});let t=e;return t})();var ti=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=A({type:e}),e.\u0275inj=j({imports:[Qe,Ae,Me]});let t=e;return t})();export{ti as HeroesModule};
